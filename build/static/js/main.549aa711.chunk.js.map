{"version":3,"sources":["ghost512.png","Login.js","Register.js","Welcome.js","SendSnap.js","AllUsers.js","ReceiveSnap.js","AllSnaps.js","LogOut.js","App.js","index.js"],"names":["module","exports","Login","props","state","email","password","isAuth","handleEmail","bind","handlePassword","handleSubmit","e","this","setState","target","value","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log","token","localStorage","setItem","getItem","onSubmit","for","type","id","onChange","window","location","href","Component","Register","Welcome","document","getElementById","style","display","className","src","logo","alt","path","to","SendSnap","duration","receiver","handleDuration","handleImage","fileInput","React","createRef","image","formData","FormData","append","current","files","axios","post","res","catch","err","error","ref","width","height","frameBorder","class","AllUsers","isReady","userSelected","clickUser","localToken","text","users","map","user","index","key","onClick","ReceiveSnap","snap","countdownTime","handle","match","params","idSnap","blob","timeleft","URL","createObjectURL","Blob","time","tempDuration","setTimeout","AllSnaps","length","changeDuration","snap_id","from","render","LogOut","ready","removeItem","App","exact","ReactDOM"],"mappings":"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","file":"static/js/main.549aa711.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ghost512.54bea9c3.png\";","import React, { Component } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect\n} from \"react-router-dom\";\n\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { email: \"\", password: \"\", isAuth: false};\n\n    this.handleEmail = this.handleEmail.bind(this);\n    this.handlePassword = this.handlePassword.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleEmail(e) {\n    this.setState({ email: e.target.value });\n  }\n\n  handlePassword(e) {\n    this.setState({ password: e.target.value });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    fetch(\"http://snapi.epitech.eu/connection\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(this.state),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data.data.token);\n        localStorage.setItem('tokenAuth', data.data.token); \n        console.log(localStorage.getItem('tokenAuth'))\n        this.setState({isAuth: true})\n      });\n  }\n\n  render() {\n    if(this.state.isAuth == true){\n      window.location.href = \"/all\";\n      // return (\n      // <Route>\n      //   <Redirect to=\"/all\"/>\n      // </Route>\n      // )\n    }\n    else {\n      return (\n        <div>\n          <h1>Login</h1>\n          <form onSubmit={this.handleSubmit}>\n            <label for=\"email\">E-mail </label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              value={this.state.value}\n              onChange={this.handleEmail}\n            />\n            <br />\n            <label for=\"password\">Password </label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              value={this.state.value}\n              onChange={this.handlePassword}\n            />\n            <br />\n            <input type=\"submit\" value=\"Connect\" />\n          </form>\n        </div>\n      );\n    }\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {email: '', password: ''};\n\n    this.handleEmail = this.handleEmail.bind(this);\n    this.handlePassword = this.handlePassword.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleEmail(e) {\n    this.setState({email: e.target.value});\n  }\n\n  handlePassword(e) {\n    this.setState({password: e.target.value});\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    console.log(this.state);\n    fetch(\"http://snapi.epitech.eu/inscription\", {\n      method: 'POST',\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify(this.state)\n    })\n    .then(response => response.json())\n    .then(data => { \n      console.log(data)\n    })\n  }\n  \n  render() {\n    return (\n      <div>\n        <h1>Register</h1>\n        <form onSubmit={this.handleSubmit}>\n          <label for=\"email\">E-mail </label>\n          <input type=\"email\" id=\"email\" value={this.state.value} onChange={this.handleEmail}/><br/>\n          <label for=\"password\">Password </label>\n          <input type=\"password\" id=\"password\" value={this.state.value} onChange={this.handlePassword}/><br/>\n          <input type=\"submit\" value=\"Connect\" />\n        </form>\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch, Link } from 'react-router-dom';\nimport logo from './ghost512.png';\nimport './Welcome.css';\n\nimport Login from './Login';\nimport Register from './Register';\n\n\nexport default class Welcome extends Component {\n  componentDidMount() {\n    document.getElementById('navbar').style.display = \"none\";\n  }\n  \n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Welcome on My Snapchat !\n          </p>\n          <div>\n            <BrowserRouter>\n              <Switch>\n                <Route path=\"/login\">\n                  <Login />\n                </Route>\n                <Route path=\"/register\">\n                  <Register />\n                </Route>\n              </Switch>\n              <div className=\"welcome\">\n                <Link to=\"/login\">Login</Link>&nbsp;\n                <Link to=\"/register\">Register</Link>\n              </div>\n            </BrowserRouter>\n          </div>\n        </header>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport axios from \"axios\";\nimport { Redirect, Route } from \"react-router-dom\";\n\nexport default class SendSnap extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      duration: 1,\n      to: this.props.receiver\n    }\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleDuration = this.handleDuration.bind(this);\n    this.handleImage = this.handleImage.bind(this);\n    this.fileInput = React.createRef();\n  }\n\n  componentDidMount() {\n    console.log(this.state)\n  }\n  \n\n  handleDuration(e) {\n    this.setState({duration: e.target.value})\n  }\n\n  handleImage(e) {\n    this.setState({image: this.fileInput})\n  }\n\n  handleSubmit(e) {\n    e.preventDefault()\n    document.getElementById(\"message\").style.display = \"block\";\n\n    const formData = new FormData();\n    formData.append(\"duration\", this.state.duration);\n    formData.append(\"to\", this.state.to);\n    formData.append(\"image\", this.fileInput.current.files[0]);\n    \n    console.log(FormData)\n    \n    // AXIOS ----\n    axios.post(\"http://snapi.epitech.eu/snap\", formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n        'token': localStorage.getItem('tokenAuth')\n      }})\n      .then(res => {\n        document.getElementById(\"message\").style.display = \"none\";\n        document.getElementById(\"send-success\").style.display = \"block\";\n        console.log({res});\n      }).catch(err => {\n          console.error({err});\n      });\n  }\n\n  \n  render() {\n    if (this.props.receiver){\n      return (\n        <div>\n          <p id=\"message\" style={{display: 'none'}}>Chargement...</p>\n          <h3>Send a snap to <u>{this.props.receiver}</u></h3>\n          <div className=\"form-part\">\n            <form onSubmit={this.handleSubmit}>\n              <div className=\"second-part\">\n                <h4>Choose seconds</h4>\n                <select value={this.state.duration} onChange={this.handleDuration}>\n                  <option value=\"1\">1</option>\n                  <option value=\"2\">2</option>\n                  <option value=\"3\">3</option>\n                  <option value=\"4\">4</option>\n                  <option value=\"5\">5</option>\n                  <option value=\"6\">6</option>\n                  <option value=\"7\">7</option>\n                  <option value=\"8\">8</option>\n                  <option value=\"9\">9</option>\n                  <option value=\"10\">10</option>\n                </select>\n              </div>\n              <div className=\"file-part\">\n                <h4>Choose an image</h4>\n                <input type=\"file\" ref={this.fileInput} onChange={this.handleImage} />\n              </div>\n              <input type=\"submit\" value=\"Submit\" />\n            </form>\n          </div>\n          <div id=\"send-success\" style={{display: 'none'}}>\n            <iframe src=\"https://giphy.com/embed/tIeCLkB8geYtW\" width=\"120\" height=\"95\" frameBorder=\"0\" class=\"giphy-embed\"></iframe>\n            <p>Send with success !</p>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n","\nimport React, { Component } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect,\n  useHistory,\n  useLocation\n} from \"react-router-dom\";\n\nimport SendSnap from \"./SendSnap\";\n\nexport default class AllUsers extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: null,\n      isReady: false,\n      userSelected: '',\n\n    };\n\n    this.clickUser = this.clickUser.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(localStorage.getItem('tokenAuth'))\n    let localToken = localStorage.getItem('tokenAuth')\n\n    fetch(\"http://snapi.epitech.eu/all\", {\n      method: \"GET\",\n      headers: { token: localToken },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        this.setState({ isReady: true,\n          data });\n        console.log(this.state.data);\n      });\n  }\n\n  clickUser(e) {\n    this.setState({userSelected: e.target.text})\n    document.getElementById(\"list-users\").style.display = \"none\";\n  }\n\n  render() {\n    const users = this.state.data\n\n    if (!this.state.isReady) {\n      return (\n      <div className=\"message\">It comes...</div>\n      );\n    }\n    else {\n      return (\n        <Router>\n          <div id=\"list-users\">\n            <ul>\n            { users.data.map((user, index) => (\n              <li key={index} className=\"align-mi\">\n                <i className=\"material-icons\">person</i><Link to=\"/snap\" onClick={this.clickUser}>\n                  {user.email}\n                  {/* {user.email.length < 30 \n                  ? user.email \n                  : user.email.substr(0, 30).trim() + user.email.substr(30).trim()} */}\n                  </Link><i className=\"material-icons send-logo\">keyboard_arrow_right</i>\n              </li>\n              ))}\n            </ul>\n\n          </div>\n            <Switch>\n              <Route path=\"/snap\">\n                <SendSnap receiver={this.state.userSelected}/>\n              </Route>\n            </Switch>\n        </Router>\n      );\n    }\n    \n  }\n}","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch, Link, Redirect } from 'react-router-dom';\nimport AllSnaps from './AllSnaps'\n\nexport default class ReceiveSnap extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      snap: null,\n      isReady: false,\n      duration: this.props.duration,\n      token: ''\n    }\n\n    this.countdownTime = this.countdownTime.bind(this);\n  }\n  \n\n  componentDidMount () {\n    console.log(localStorage.getItem('tokenAuth'))\n\n    let handle = this.props.match.params.id;\n    let localToken = localStorage.getItem('tokenAuth')\n    this.setState({idSnap: handle, token: localToken })\n\n\n    fetch(`http://snapi.epitech.eu/snap/${handle}`, {\n      method: \"GET\",\n      headers: { token: localToken }, \n    }\n    )\n    .then(response =>  response.blob())\n    .then((blob) => {\n      console.log(blob)\n      let timeleft = this.state.duration;\n      const image = window.URL.createObjectURL(new Blob([blob]))\n      this.setState({ isReady: true, snap: image})\n      this.countdownTime(timeleft)\n    })\n  }\n\n\n  countdownTime(time){\n    let handle = this.props.match.params.id;\n    let idSnap = { id: handle }\n    console.log(idSnap);\n\n\n    let tempDuration = time-1;\n    if (tempDuration == -1){\n      fetch('http://snapi.epitech.eu/seen', {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        token: this.state.token\n      },\n      body: JSON.stringify(idSnap)\n      })\n      .then((data) => {\n        console.log('Success:', data);\n        window.location.href = \"/snaps\";\n      })\n      .catch((error) => {\n        console.error('Error:', error);\n      });\n      return (this.setState({ isReady: false, duration: 0 }))\n    }\n    else {\n      setTimeout(() => {\n        this.setState({duration: tempDuration});\n        this.countdownTime(tempDuration);\n      }, 1000)\n    }\n  }\n\n  \n  render() {\n    if (this.state.duration == 0) {\n      // return (\n      //   <BrowserRouter>\n      //     <Switch>\n      //       <Route path=\"/snap/:id\" >\n      //         <Redirect to=\"/snaps\"  />\n      //       </Route>\n      //       <Route path=\"/snaps\">\n      //         <AllSnaps />\n      //       </Route>\n      //     </Switch>\n      //   </BrowserRouter>\n      // )\n      return <h3>Snap deleted.</h3>;\n    }\n    else if (!this.state.isReady){\n      return <h3>It comes...</h3>;\n    }\n    else {\n      return (\n        <div className=\"snap-part\">\n          <p className=\"snap-duration\">{this.state.duration}</p>\n          <img className=\"snap-image\" src={this.state.snap} />\n        </div>\n      )\n    }\n  }\n}\n","import React, { Component } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect,\n  useHistory,\n  useLocation, \n  useParams\n} from \"react-router-dom\";\n\nimport ReceiveSnap from './ReceiveSnap';\n\nexport default class AllSnaps extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: null,\n      isReady: false,\n      duration: null\n    };\n  }\n\n  componentDidMount() {\n    console.log(localStorage.getItem('tokenAuth'))\n    let localToken = localStorage.getItem('tokenAuth')\n\n    fetch(\"http://snapi.epitech.eu/snaps\", {\n      method: \"GET\",\n      headers: { token: localToken },\n    })\n    .then((response) => response.json())\n    .then((data) => {\n      this.setState({ isReady: true,\n        data });\n      console.log(this.state.data);\n    });\n  }\n\n  changeDuration(duration) {\n    this.setState({duration})\n  }\n  \n  render() {\n    const users = this.state.data\n\n    if (!this.state.isReady) {\n      return (\n      <div>It comes...</div>\n      );\n    }\n    else {\n      console.log(users.data)\n      if (users.data.length == 0){\n        return <h3>No snap received</h3>\n      }\n      else{\n        return (\n          <Router>\n            <div id=\"list-users\">\n              <h3>You received {users.data.length} snaps !</h3>\n              <ul>\n              { users.data.map((user, index) => (\n                // <li key={index} onClick={() => this.changeDuration(user.duration)}>\n                //   <Link to={`/snap/${user.snap_id}`}>{user.from}</Link>\n                // </li>\n\n                <li key={index} className=\"align-mi\" onClick={() => this.changeDuration(user.duration)}>\n                <i className=\"material-icons\">person</i><Link to={`/snap/${user.snap_id}`}>\n                  {user.from}\n                  </Link><i className=\"material-icons send-logo\">keyboard_arrow_right</i>\n                </li>\n                ))}\n              </ul>\n  \n                  <Switch>\n                    <Route path=\"/snap/:id\" \n                    render={ (props) => <ReceiveSnap {...props} duration={this.state.duration} /> } />\n                  </Switch>\n            </div>\n          </Router>\n        );\n        \n      }\n    }  \n  }\n}\n","import React, { Component } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect\n} from \"react-router-dom\";\n\nimport App from './App'\n\nexport default class LogOut extends Component {\n  constructor() {\n    super()\n\n    this.state = {ready: false};\n  }\n\n  async componentDidMount() {\n    await window.localStorage.removeItem(\"tokenAuth\");\n    this.setState({ready: true});\n  }\n  \n\n  render() {\n    let ready = this.state.ready; \n    if (ready) {\n      return (\n        <div>\n          <Route path=\"/\">\n            <Redirect to=\"/welcome\" />\n          </Route>\n        </div>\n      )\n    }\n    else {\n      return (\n        <div>\n          Disconnecting...\n        </div>\n      )\n    }\n  }\n}\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect\n} from \"react-router-dom\";\n\nimport logo from './ghost512.png';\nimport \"material-icons/iconfont/material-icons.css\";\nimport './App.css';\n\nimport Welcome from \"./Welcome\";\nimport AllUsers from './AllUsers';\nimport AllSnaps from './AllSnaps';\nimport LogOut from './LogOut'\nimport SendSnap from './SendSnap';\n\n\nfunction App() {\n  return (\n    <div>\n      <Router>\n        <div >\n          <div id=\"navbar\">\n            <ul>\n              <li>\n                {/* <Link to=\"/all\">Users</Link> */}\n                <a href=\"/all\"><span class=\"material-icons icon-white\">people</span></a>\n              </li>\n              <li>\n                <Link to=\"/snaps\"><i class=\"material-icons icon-white\">chat_bubble</i></Link>\n              </li>\n              <li>\n                <Link to=\"/logout\"><span class=\"material-icons icon-white exit\">exit_to_app</span></Link>\n              </li>\n            </ul>\n          </div>\n\n          <Switch>\n            <Route exact path=\"/\">\n              {localStorage.getItem('tokenAuth') ? <Redirect to=\"/all\" /> : <Redirect to=\"/welcome\" />}\n            </Route>\n            <Route path=\"/welcome\">\n              <Welcome />\n            </Route>\n            <Route path=\"/all\">\n              <AllUsers />\n            </Route>\n            <Route path=\"/snaps\">\n              <AllSnaps />\n            </Route>\n            <Route path=\"/logout\">\n              <LogOut />\n            </Route>\n          </Switch>\n        </div>\n    </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}